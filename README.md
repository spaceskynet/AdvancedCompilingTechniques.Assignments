# 国科大编译程序高级教程作业 2023 版

恭喜你选择了一门考试只占20%，但是按测试点人头给分的实验占80%的编译课程，要是你没学过编译原理或者没毅力硬啃师兄师姐们写的可能没注释的代码来理解自己该做什么的话（~~只能说上课学的是上课学的，上课学会了实践照样一头雾水~~），现在快跑还来得及！

本课程实验课作业共有3次，只能说一个比一个难，最后一个实验做好2周起步的战斗准备，分别是：
- Assignment1：基于 Clang 的 C 语言解释执行器
- Assignment2：LLVM Pass处理函数调用
- Assignment3：Point to 分析

本仓库内有一些小shell脚本帮助完成实验和自己测试，具体怎么用可以自己看源码。

本仓库按照编写进度记录了commit，并在对应目录下有`history.md`记录，你可以通过commit和我记录的历史来参考一下我的思考过程，**另外你可能会遇见一些问题，也可能能在我的`history.md`中找到答案**。当然，这里得排除第三个作业，因为我也没有完全理解我该干什么，你可以从师兄师姐们开源的代码中感受出来，大多也是未完成体，所以我也没法一步步记录思考过程，最后也存在一个测试点未过（这里和分析时敏感程度有关，但是我觉得需要权衡，没必要死磕拿全测试点），另外注意一下，似乎不少开源的代码里正向数据流都没有写正确，在你完成第三个作业时不妨思考思考。

每年题目不出意外都是一样的，但测试点可能会出现部分变动，所以可以尝试从师兄师姐们开源的代码里寻找不同时间的测试点来更加全面测试自己的实现是否完善，但是最后如果测试点答案和预计有偏差，记得和老师讨论，以最后确定为准。

对于另外的一些细节，很推荐参考一下[ChinaNuke师兄](https://github.com/ChinaNuke)的三个作业仓库，相信也能给你一些启发和帮助，如果本仓库对你有帮助，也欢迎点个Star。

最后感谢师兄师姐们打下的基础，组传代码代代相传造福学弟学妹们！

## 下载本仓库

```shell
$ git clone https://github.com/spaceskynet/AdvancedCompilingTechniques.Assignments.git
```

## Docker 环境

课程提供了编译安装好了 LLVM 10 的 docker 环境，你可以直接拿来使用，当然也可以自己使用docker和虚拟机配置环境（注意助教测试时是使用`docker exec`在容器外进行测试，所以环境变量不会被加载，注意写`CMakeLists.txt`时参考课上提供的docker容器里你需要设置的工具的绝对路径是什么）。

当然我自己也build了一份配置好环境的docker镜像，仓库在[LLVM 10 Ports](https://github.com/spaceskynet/llvm-10-ports)，有兴趣可以点个Star，想要复现我的代码可以直接在仓库根目录下使用`docker-compose.yml`启动环境：

```shell
$ docker compose up -d
```
